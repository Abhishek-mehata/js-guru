# DOM Guide üå≥

<!-- ## Table of Contents
1. [What is DOM?](#what-is-dom)
2. [DOM Tree Structure](#dom-tree-structure)
3. [Accessing Elements](#accessing-elements)
4. [Modifying Elements](#modifying-elements)
5. [DOM Manipulation Methods](#dom-manipulation-methods)
6. [Event Handling](#event-handling)
7. [Creating and Removing Elements](#creating-and-removing-elements)
8. [Best Practices](#best-practices)
9. [Complete Examples](#complete-examples) -->

---

## What is DOM?

The **DOM (Document Object Model)** is a programming interface that represents your HTML document as a tree of objects. Think of it as a bridge between your HTML and JavaScript.

### Key Concepts:

- **Document**: The entire HTML page
- **Object**: Each HTML element becomes an object
- **Model**: The structure that organizes these objects

### Why is DOM Important?

- ‚úÖ Make websites interactive without page reloads
- ‚úÖ Respond to user actions (clicks, typing, etc.)
- ‚úÖ Update content dynamically
- ‚úÖ Change styles and layouts in real-time
- ‚úÖ Add or remove elements on demand

---

## DOM Tree Structure

The DOM represents your HTML as a **family tree** where elements have parents, children, and siblings.

```html
<!DOCTYPE html>
<html>
  <!-- Root (Top Parent) -->
  <head>
    <!-- Child of html, Parent of title -->
    <title>My Page</title>
    <!-- Child of head -->
  </head>
  <body>
    <!-- Child of html, Parent of div -->
    <div id="container">
      <!-- Child of body, Parent of h1 and p -->
      <h1>Welcome</h1>
      <!-- Child of div, Sibling of p -->
      <p>Hello World</p>
      <!-- Child of div, Sibling of h1 -->
    </div>
  </body>
</html>
```

**Tree Visualization:**

```
html
‚îú‚îÄ‚îÄ head
‚îÇ   ‚îî‚îÄ‚îÄ title
‚îî‚îÄ‚îÄ body
    ‚îî‚îÄ‚îÄ div#container
        ‚îú‚îÄ‚îÄ h1
        ‚îî‚îÄ‚îÄ p
```

---

## Accessing Elements

To work with HTML elements in JavaScript, you first need to **select** them from the DOM tree.

### 1. `getElementById()` - Most Common ‚≠ê

Finds **one element** by its unique ID.

```javascript
// HTML: <h1 id="main-title">Hello World</h1>
let title = document.getElementById("main-title");
console.log(title); // Returns the h1 element
console.log(title.textContent); // "Hello World"
```

### 2. `getElementsByClassName()`

Finds **multiple elements** with the same class. Returns an array-like collection.

```javascript
// HTML: <div class="box">Box 1</div>
//       <div class="box">Box 2</div>
let boxes = document.getElementsByClassName("box");
console.log(boxes.length); // 2
console.log(boxes[0].textContent); // "Box 1"
console.log(boxes[1].textContent); // "Box 2"
// if there is only one element with specific
// class name then also it returns in form of array
```

### 3. `getElementsByTagName()`

Finds **all elements** with a specific HTML tag.

```javascript
// Finds all <p> tags
let paragraphs = document.getElementsByTagName("p");
console.log(paragraphs.length); // Number of <p> tags

// Loop through all paragraphs
for (let i = 0; i < paragraphs.length; i++) {
  console.log(paragraphs[i].textContent);
}
```

### 4. `querySelector()` - Very Popular ‚≠ê

Finds the **first element** matching a CSS selector.

```javascript
// By ID (use #)
let title = document.querySelector("#main-title");

// By Class (use .)
let firstBox = document.querySelector(".box");

// By Tag
let firstParagraph = document.querySelector("p");

// Complex selectors
let firstLinkInNav = document.querySelector("nav a");
```

### 5. `querySelectorAll()` - Very Popular ‚≠ê

Finds **all elements** matching a CSS selector.

```javascript
// HTML: <button class="btn">Button 1</button>
//       <button class="btn">Button 2</button>
//       <button class="btn">Button 3</button>

let allButtons = document.querySelectorAll(".btn");
console.log(allButtons.length); // 3

// Loop through all buttons
allButtons.forEach(function (button, index) {
  console.log(`Button ${index + 1}: ${button.textContent}`);
});
```

### Which Method to Use? ü§î

| Method                     | Use When                                | Returns                |
| -------------------------- | --------------------------------------- | ---------------------- |
| `getElementById()`         | You have a unique ID                    | Single element         |
| `querySelector()`          | You want flexibility with CSS selectors | First matching element |
| `querySelectorAll()`       | You want multiple elements              | All matching elements  |
| `getElementsByClassName()` | Legacy code or performance critical     | Live collection        |
| `getElementsByTagName()`   | You need all elements of a type         | Live collection        |

**Recommendation**: Use `getElementById()` for single elements and `querySelectorAll()` for multiple elements.

---

## Modifying Elements

Once you've selected elements, you can change their content, attributes, and styles.

### 1. Changing Content

#### `textContent` - Plain Text Only

```javascript
let heading = document.getElementById("title");
heading.textContent = "New Title"; // Sets plain text
console.log(heading.textContent); // Gets plain text
```

#### `innerHTML` - HTML Content

```javascript
let container = document.getElementById("content");
container.innerHTML = "<strong>Bold Text</strong>"; // Sets HTML
console.log(container.innerHTML); // Gets HTML with tags
```

#### `innerText` - Visible Text Only

```javascript
let element = document.getElementById("hidden-content");
element.innerText = "Visible text"; // Ignores hidden elements
```

**Key Differences:**

```html
<p id="demo">
  Extra spacing <span style="display:none">Hidden</span> <b>Bold</b>
</p>
```

```javascript
let element = document.getElementById("demo");

// textContent: "   Extra spacing   Hidden Bold" (includes hidden text and spacing)
// innerHTML: "   Extra spacing   <span style="display:none">Hidden</span> <b>Bold</b>" (includes HTML tags)
// innerText: "Extra spacing Bold" (only visible text, cleaned spacing)
```

### 2. Changing Attributes

```javascript
let image = document.getElementById("my-image");

// Change src attribute
image.src = "new-image.jpg";

// Change alt attribute
image.alt = "New description";

// Get attribute value
console.log(image.src);

// Set custom attributes
image.setAttribute("data-id", "123");
let dataId = image.getAttribute("data-id");
```

### 3. Changing Styles

#### Direct Style Changes

```javascript
let box = document.getElementById("my-box");

box.style.backgroundColor = "red";
box.style.width = "200px";
box.style.height = "200px";
box.style.border = "2px solid blue";

// CSS properties with dashes use camelCase
box.style.fontSize = "20px"; // font-size becomes fontSize
box.style.marginTop = "10px"; // margin-top becomes marginTop
```

---

## DOM Manipulation Methods

### 1. Class Manipulation

Classes are the best way to change styles because they keep your CSS and JavaScript separate.

```css
/* CSS */
.highlight {
  background-color: yellow;
  font-weight: bold;
}

.hidden {
  display: none;
}

.active {
  color: blue;
  border: 2px solid blue;
}
```

```javascript
let element = document.getElementById("my-element");

// Add a class
element.classList.add("highlight");

// Remove a class
element.classList.remove("hidden");

// Toggle a class (add if not present, remove if present)
element.classList.toggle("active");

// Check if class exists
if (element.classList.contains("highlight")) {
  console.log("Element is highlighted");
}

// Replace one class with another
element.classList.replace("old-class", "new-class");
```

### 2. Complete Class Manipulation Example

```html
<!DOCTYPE html>
<html>
  <head>
    <style>
      .box {
        width: 100px;
        height: 100px;
        background-color: gray;
        margin: 10px;
        transition: all 0.3s ease;
      }

      .highlight {
        background-color: yellow;
        transform: scale(1.1);
      }

      .hidden {
        opacity: 0;
      }
    </style>
  </head>
  <body>
    <div id="my-box" class="box">Click the buttons!</div>

    <button onclick="highlightBox()">Highlight</button>
    <button onclick="hideBox()">Hide</button>
    <button onclick="showBox()">Show</button>
    <button onclick="toggleHighlight()">Toggle Highlight</button>

    <script>
      let box = document.getElementById("my-box");

      function highlightBox() {
        box.classList.add("highlight");
      }

      function hideBox() {
        box.classList.add("hidden");
      }

      function showBox() {
        box.classList.remove("hidden");
      }

      function toggleHighlight() {
        box.classList.toggle("highlight");
      }
    </script>
  </body>
</html>
```

---

<!--
## Event Handling

Events are actions that happen in the browser (clicks, key presses, mouse movements, etc.). JavaScript can "listen" for these events and respond to them.

### 1. Adding Event Listeners

#### `addEventListener()` - Recommended Method ‚≠ê

```javascript
let button = document.getElementById("my-button");

button.addEventListener("click", function() {
    alert("Button was clicked!");
});

// Or with arrow function
button.addEventListener("click", () => {
    alert("Button was clicked!");
});
```

### 2. Common Events

```javascript
let input = document.getElementById("text-input");
let button = document.getElementById("submit-btn");

// Click events
button.addEventListener("click", function() {
    console.log("Button clicked!");
});

// Keyboard events
input.addEventListener("keyup", function(event) {
    console.log("Key pressed: " + event.key);
    console.log("Input value: " + input.value);
});

// Focus events
input.addEventListener("focus", function() {
    console.log("Input focused");
});

input.addEventListener("blur", function() {
    console.log("Input lost focus");
});

// Mouse events
button.addEventListener("mouseenter", function() {
    console.log("Mouse entered button");
});

button.addEventListener("mouseleave", function() {
    console.log("Mouse left button");
});
```

### 3. Event Object

The event object contains information about what happened.

```javascript
let button = document.getElementById("my-button");

button.addEventListener("click", function(event) {
    console.log("Event type:", event.type); // "click"
    console.log("Target element:", event.target); // The button element
    console.log("Mouse position:", event.clientX, event.clientY);

    // Prevent default behavior (useful for forms and links)
    event.preventDefault();
});

// Keyboard events
document.addEventListener("keydown", function(event) {
    console.log("Key pressed:", event.key);
    console.log("Key code:", event.keyCode);

    if (event.key === "Enter") {
        console.log("Enter key was pressed!");
    }
});
```

### 4. Multiple Event Listeners

```javascript
let button = document.getElementById("my-button");

// You can add multiple listeners for the same event
button.addEventListener("click", function() {
    console.log("First listener");
});

button.addEventListener("click", function() {
    console.log("Second listener");
});

// Both will run when the button is clicked
``` -->

---

## Creating and Removing Elements

### 1. Creating New Elements

```javascript
// Create a new element
let newParagraph = document.createElement("p");

// Set its content
newParagraph.textContent = "This is a new paragraph!";

// Set attributes
newParagraph.id = "new-para";
newParagraph.className = "highlight";

// Add it to the page
document.body.appendChild(newParagraph);
```

### 2. Different Ways to Add Elements

```javascript
let container = document.getElementById("container");
let newDiv = document.createElement("div");
newDiv.textContent = "New div element";

// Add to the end
container.appendChild(newDiv);

// Add to the beginning
container.insertBefore(newDiv, container.firstChild);

// Add before a specific element
let existingElement = document.getElementById("existing");
container.insertBefore(newDiv, existingElement);

// Modern method (more flexible)
container.insertAdjacentElement("afterbegin", newDiv); // At the start
container.insertAdjacentElement("beforeend", newDiv); // At the end
container.insertAdjacentElement("beforebegin", newDiv); // Before container
container.insertAdjacentElement("afterend", newDiv); // After container
```

### 3. Removing Elements

```javascript
// Method 1: Remove directly (modern)
let elementToRemove = document.getElementById("remove-me");
elementToRemove.remove();

// Method 2: Remove through parent (older method)
let parent = elementToRemove.parentNode;
parent.removeChild(elementToRemove);

// Remove all children
let container = document.getElementById("container");
container.innerHTML = ""; // Removes all child elements
```

### 4. Complete Create/Remove Example

```html
<!DOCTYPE html>
<html>
  <head>
    <style>
      .item {
        padding: 10px;
        margin: 5px;
        background-color: lightblue;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <div class="item">Existing Item 1</div>
      <div class="item">Existing Item 2</div>
    </div>

    <button onclick="addItem()">Add Item</button>
    <button onclick="removeLastItem()">Remove Last Item</button>
    <button onclick="removeAllItems()">Remove All Items</button>

    <script>
      let container = document.getElementById("container");
      let itemCount = 2;

      function addItem() {
        itemCount++;

        let newItem = document.createElement("div");
        newItem.className = "item";
        newItem.textContent = `New Item ${itemCount}`;

        // Add click listener to remove individual items
        newItem.addEventListener("click", function () {
          newItem.remove();
        });

        container.appendChild(newItem);
      }

      function removeLastItem() {
        let lastItem = container.lastElementChild;
        if (lastItem) {
          lastItem.remove();
        }
      }

      function removeAllItems() {
        container.innerHTML = "";
        itemCount = 0;
      }
    </script>
  </body>
</html>
```

---

## Best Practices

### 1. Wait for DOM to Load

```javascript
// Method 1: DOMContentLoaded event (recommended)
document.addEventListener("DOMContentLoaded", function () {
  // Your code here - DOM is fully loaded
  let button = document.getElementById("my-button");
  button.addEventListener("click", function () {
    alert("Hello!");
  });
});

// Method 2: Put scripts at the end of body tag
// <script> tags at the end of </body>
```

### 2. Cache DOM Selections

```javascript
// Bad - selecting the same element multiple times
document.getElementById("button").style.color = "red";
document.getElementById("button").style.fontSize = "20px";
document.getElementById("button").addEventListener("click", function () {
  document.getElementById("button").style.color = "blue";
});

// Good - select once and store
let button = document.getElementById("button");
button.style.color = "red";
button.style.fontSize = "20px";
button.addEventListener("click", function () {
  button.style.color = "blue";
});
```

### 3. Use CSS Classes Instead of Inline Styles

```javascript
// Bad
element.style.backgroundColor = "red";
element.style.padding = "10px";
element.style.border = "2px solid blue";

// Good
element.classList.add("error-state");
```

---

## Complete Examples

### Example 1: Interactive To-Do List

```html
<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 600px;
        margin: 50px auto;
        padding: 20px;
      }

      .todo-input {
        width: 70%;
        padding: 10px;
        font-size: 16px;
        border: 2px solid #ddd;
        border-radius: 5px;
      }

      .add-btn {
        padding: 10px 20px;
        background-color: #4caf50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
      }

      .todo-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        margin: 10px 0;
        background-color: #f9f9f9;
        border-radius: 5px;
      }

      .todo-item.completed {
        text-decoration: line-through;
        opacity: 0.6;
      }

      .delete-btn {
        background-color: #ff4444;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 3px;
        cursor: pointer;
      }

      .complete-btn {
        background-color: #4caf50;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 3px;
        cursor: pointer;
        margin-right: 5px;
      }
    </style>
  </head>
  <body>
    <h1>My To-Do List</h1>

    <div class="input-section">
      <input
        type="text"
        id="todo-input"
        class="todo-input"
        placeholder="Enter a new task..."
      />
      <button onclick="addTodo()" class="add-btn">Add Task</button>
    </div>

    <div id="todo-list"></div>

    <div id="stats">
      <p>Total tasks: <span id="total-count">0</span></p>
      <p>Completed: <span id="completed-count">0</span></p>
    </div>

    <script>
      let todoList = document.getElementById("todo-list");
      let todoInput = document.getElementById("todo-input");
      let totalCount = document.getElementById("total-count");
      let completedCount = document.getElementById("completed-count");

      let todos = [];

      // Add todo function
      function addTodo() {
        let text = todoInput.value.trim();

        if (text === "") {
          alert("Please enter a task!");
          return;
        }

        let todo = {
          id: Date.now(),
          text: text,
          completed: false,
        };

        todos.push(todo);
        todoInput.value = "";
        renderTodos();
        updateStats();
      }

      // Render all todos
      function renderTodos() {
        todoList.innerHTML = "";

        todos.forEach(function (todo) {
          let todoElement = document.createElement("div");
          todoElement.className = "todo-item";
          if (todo.completed) {
            todoElement.classList.add("completed");
          }

          todoElement.innerHTML = `
                    <span>${todo.text}</span>
                    <div>
                        <button class="complete-btn" onclick="toggleComplete(${
                          todo.id
                        })">
                            ${todo.completed ? "Undo" : "Complete"}
                        </button>
                        <button class="delete-btn" onclick="deleteTodo(${
                          todo.id
                        })">Delete</button>
                    </div>
                `;

          todoList.appendChild(todoElement);
        });
      }

      // Toggle complete status
      function toggleComplete(id) {
        todos = todos.map(function (todo) {
          if (todo.id === id) {
            todo.completed = !todo.completed;
          }
          return todo;
        });

        renderTodos();
        updateStats();
      }

      // Delete todo
      function deleteTodo(id) {
        todos = todos.filter(function (todo) {
          return todo.id !== id;
        });

        renderTodos();
        updateStats();
      }

      // Update statistics
      function updateStats() {
        totalCount.textContent = todos.length;
        let completed = todos.filter((todo) => todo.completed).length;
        completedCount.textContent = completed;
      }

      // Allow Enter key to add todo
      todoInput.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
          addTodo();
        }
      });
    </script>
  </body>
</html>
```

### Example 2: Image Gallery with Lightbox

```html
<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }

      .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .gallery-item {
        position: relative;
        cursor: pointer;
        border-radius: 10px;
        overflow: hidden;
        transition: transform 0.3s ease;
      }

      .gallery-item:hover {
        transform: scale(1.05);
      }

      .gallery-item img {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }

      .gallery-item .caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 10px;
        text-align: center;
      }

      .lightbox {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 1000;
        justify-content: center;
        align-items: center;
      }

      .lightbox.active {
        display: flex;
      }

      .lightbox img {
        max-width: 90%;
        max-height: 90%;
        border-radius: 10px;
      }

      .close-btn {
        position: absolute;
        top: 20px;
        right: 30px;
        color: white;
        font-size: 30px;
        cursor: pointer;
      }

      .nav-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        color: white;
        font-size: 30px;
        cursor: pointer;
        user-select: none;
      }

      .prev-btn {
        left: 20px;
      }

      .next-btn {
        right: 20px;
      }
    </style>
  </head>
  <body>
    <h1>Image Gallery</h1>

    <div class="gallery" id="gallery"></div>

    <div id="lightbox" class="lightbox">
      <span class="close-btn" onclick="closeLightbox()">&times;</span>
      <span class="nav-btn prev-btn" onclick="prevImage()">&lt;</span>
      <img id="lightbox-img" src="" alt="" />
      <span class="nav-btn next-btn" onclick="nextImage()">&gt;</span>
    </div>

    <script>
      // Sample image data (in real app, this might come from API)
      const images = [
        {
          src: "https://picsum.photos/400/300?random=1",
          caption: "Beautiful Landscape",
        },
        {
          src: "https://picsum.photos/400/300?random=2",
          caption: "City Skyline",
        },
        {
          src: "https://picsum.photos/400/300?random=3",
          caption: "Nature Photography",
        },
        {
          src: "https://picsum.photos/400/300?random=4",
          caption: "Architecture",
        },
        {
          src: "https://picsum.photos/400/300?random=5",
          caption: "Abstract Art",
        },
        {
          src: "https://picsum.photos/400/300?random=6",
          caption: "Street Photography",
        },
      ];

      let currentImageIndex = 0;
      let gallery = document.getElementById("gallery");
      let lightbox = document.getElementById("lightbox");
      let lightboxImg = document.getElementById("lightbox-img");

      // Create gallery
      function createGallery() {
        images.forEach(function (image, index) {
          let galleryItem = document.createElement("div");
          galleryItem.className = "gallery-item";
          galleryItem.onclick = function () {
            openLightbox(index);
          };

          galleryItem.innerHTML = `
                    <img src="${image.src}" alt="${image.caption}">
                    <div class="caption">${image.caption}</div>
                `;

          gallery.appendChild(galleryItem);
        });
      }

      // Open lightbox
      function openLightbox(index) {
        currentImageIndex = index;
        lightboxImg.src = images[index].src;
        lightbox.classList.add("active");

        // Prevent body scrolling
        document.body.style.overflow = "hidden";
      }

      // Close lightbox
      function closeLightbox() {
        lightbox.classList.remove("active");
        document.body.style.overflow = "auto";
      }

      // Previous image
      function prevImage() {
        currentImageIndex =
          currentImageIndex === 0 ? images.length - 1 : currentImageIndex - 1;
        lightboxImg.src = images[currentImageIndex].src;
      }

      // Next image
      function nextImage() {
        currentImageIndex =
          currentImageIndex === images.length - 1 ? 0 : currentImageIndex + 1;
        lightboxImg.src = images[currentImageIndex].src;
      }

      // Keyboard navigation
      document.addEventListener("keydown", function (event) {
        if (lightbox.classList.contains("active")) {
          if (event.key === "Escape") {
            closeLightbox();
          } else if (event.key === "ArrowLeft") {
            prevImage();
          } else if (event.key === "ArrowRight") {
            nextImage();
          }
        }
      });

      // Close lightbox when clicking outside image
      lightbox.addEventListener("click", function (event) {
        if (event.target === lightbox) {
          closeLightbox();
        }
      });

      // Initialize gallery
      createGallery();
    </script>
  </body>
</html>
```

### Example 3:Theme Toggle

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Theme Toggle</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: sans-serif;
      }

      body {
        background-color: #ededed; /* Light theme default */
        color: #1e1e1e; /* Light theme text */
        transition: all 0.4s ease;
      }

      .container {
        padding: 50px;
        margin: 0 auto;
        width: 100vw;
        display: flex;
        flex-direction: column;
      }

      .h1 {
        font-size: 40px;
        text-align: center;
        text-shadow: 2px 2px 6px #ff00006e;
      }

      .para {
        margin: 5px;
        font-size: 19px;
        text-shadow: 2px 2px 6px #ff00006e;
        transition: all 0.5s ease-in-out;
      }

      .theme {
        font-size: 18px;
        padding: 8px 16px;
        margin: 20px auto 0;
        cursor: pointer;
        border: 2px solid #ff00006e;
        border-radius: 9px;
        background: transparent;
        color: inherit;
        transition: all 0.3s ease;
      }

      /* Dark theme styles */
      body.dark-mode {
        background-color: #1e1e1eeb;
        color: #ededed;
      }

      body.dark-mode .theme {
        border-color: #ededed;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="h1">Abhishek Mehata</div>
      <div class="para">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Earum et quos
        explicabo quibusdam dolore voluptatibus adipisci unde facere...
      </div>
      <button class="theme">Change Theme</button>
    </div>

    <script>
      const btn = document.querySelector(".theme");
      btn.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
      });
    </script>
  </body>
</html>
```

---
