# JavaScript Modules - Complete Beginner's Guide

## What are Modules?

**Modules** are reusable pieces of code that can be exported from one file and imported into another file. Think of them as building blocks for your application.

### Real-World Analogy

Imagine you're building a house:

- Instead of building everything in one place, you order pre-made doors, windows, and furniture
- Each component is made separately and then assembled
- If a door breaks, you replace just that door, not the entire house

Similarly, modules help you:

- **Organize code**: Split large programs into smaller, manageable files
- **Reusability**: Write code once, use it everywhere
- **Maintainability**: Easy to debug because each module has a specific job
- **Collaboration**: Team members can work on different modules simultaneously

---

## Types of Modules in JavaScript

### 1. **CommonJS Modules** (Node.js)

Used in older Node.js applications

### 2. **ES6 Modules** (Modern JavaScript)

Used in modern JavaScript (ES6+) and React applications

---

# CommonJS Modules (Node.js)

### Example: Without Modules (Bad Practice)

```javascript
// index.js - Everything in one file (messy!)
function greet(username) {
  return `Good morning ${username}`;
}

function print(value) {
  console.log(value);
}

function calculateTax(price) {
  return price * 0.18;
}

function formatCurrency(amount) {
  return `$${amount.toFixed(2)}`;
}

// All code mixed together - hard to maintain!
print(greet("Abhishek"));
print(formatCurrency(calculateTax(100)));
```

### Example: With CommonJS Modules (Good Practice)

**Step 1: Create `utils.js`**

```javascript
// utils.js
// First, create a new file named utils.js where
// we will define two functions: greet and print.

function greet(username) {
  return `Good morning ${username}`;
}

function print(value) {
  console.log(value);
}

// Export functions to use in other files
module.exports = {
  greet,
  print,
};
```

**Step 2: Create `index.js`**

```javascript
// index.js
// Now, let’s create index.js, which
// will import the functions from utils.js and use them.

// Import the functions from utils.js
const { greet, print } = require("./utils.js");

print(greet("Abhishek"));
// Output: Good morning Abhishek
```

### Real Project Example: E-Commerce App

```javascript
// database.js
function connectDatabase() {
  console.log("Database connected!");
}

function saveUser(user) {
  console.log(`User ${user.name} saved to database`);
}

module.exports = { connectDatabase, saveUser };

// auth.js
function login(username, password) {
  if (username === "admin" && password === "1234") {
    return { success: true, message: "Login successful!" };
  }
  return { success: false, message: "Invalid credentials" };
}

module.exports = { login };

// app.js
const { connectDatabase, saveUser } = require("./database.js");
const { login } = require("./auth.js");

connectDatabase();
const result = login("admin", "1234");
console.log(result.message);
saveUser({ name: "John", email: "john@example.com" });
```

---

# ES6 Modules (Modern JavaScript)

### Setup for ES6 Modules

<!--  -->

#### You must have installed the latest version of node js

**Step 1: Initialize Node.js project**

- ##### open terminal and run the below command

```bash
npm init -y
```

**Step 2: Enable ES6 modules in `package.json`**

```json
{
  "name": "my-project",
  "version": "1.0.0",
  "type": "module", // Add this line!
  "main": "index.js"
}
```

- ##### basically adding `"type": "module`" in package.json file will enable ES6 modules in your project
- ##### by this we can use `import` and `export` keywords in our project

### Default Export

**Create `utils.js`**

```javascript
// utils.js
function greet(username) {
  return `Good morning ${username}`;
}

function print(value) {
  console.log(value);
}

// Default export - exports one main thing
export default {
  greet,
  print,
};

// where ever you import this module with any name, it will give
// an object by default with greet and print function as properties
```

**Use in `index.js`**

```javascript
// index.js
import modules from "./utils.js";
// You can name it anything: import myUtils from "./utils.js"

modules.print(modules.greet("Abhishek"));
// Output: Good morning Abhishek

// Or destructure it
const { greet, print } = modules;
print(greet("Rajesh"));
// Output: Good morning Rajesh
```

### Named Export (More Common)

**Create `utils.js`**

```javascript
// utils.js
export function greet(username) {
  return `Good morning ${username}`;
}

export function print(value) {
  console.log(value);
}

// Or export all at once:
// export { greet, print };

// By this way we can destructure these functions in 'import' part in 'index.js' file
```

**Use in `index.js`**

```javascript
// index.js
import { greet, print } from "./utils.js";
// Names must match exactly!

print(greet("Rajesh"));
print("Welcome to JS Guru. Again!");
```

### Real Project Example: Calculator App

```javascript
// math.js
export const add = (x, y) => x + y;
export const subtract = (x, y) => x - y;
export const multiply = (x, y) => x * y;
export const divide = (x, y) => x / y;

// calculator.js
import { add, subtract, multiply, divide } from "./math.js";

export function calculate(num1, num2, operation) {
  switch (operation) {
    case "+":
      return add(num1, num2);
    case "-":
      return subtract(num1, num2);
    case "*":
      return multiply(num1, num2);
    case "/":
      return divide(num1, num2);
    default:
      return "Invalid operation";
  }
}

// app.js
import { calculate } from "./calculator.js";

console.log("5 + 3 =", calculate(5, 3, "+")); // 8
console.log("10 - 4 =", calculate(10, 4, "-")); // 6
console.log("6 * 7 =", calculate(6, 7, "*")); // 42
```

---

## Dynamic Imports (Advanced but Important!)

Dynamic imports allow you to load modules **only when needed** (on-demand). This is super useful for:

- Loading heavy libraries only when required
- Code splitting in React applications
- Improving initial page load speed

### Example:

```javascript
// math.js
export const add = (x, y) => x + y;

// index.js
import { greet, print } from "./utils.js";

let isMathRequired = true;

if (isMathRequired) {
  // Load math.js only when needed
  const { add } = await import("./math.js");
  console.log("Dynamic Import: 5 + 10 =", add(5, 10));
}
```

### Real-World Example: Admin Dashboard

```javascript
// app.js
const userRole = "admin"; // Could come from login

if (userRole === "admin") {
  // Load admin panel only for admins (saves bandwidth for regular users)
  const { AdminPanel } = await import("./AdminPanel.js");
  AdminPanel.show();
} else {
  console.log("Welcome, regular user!");
}
```

<!-- ### React Example (Very Common in Real Projects!) -->
<!--
```javascript
// App.js
import React, { Suspense } from 'react';

// Lazy load the Dashboard component
const Dashboard = React.lazy(() => import('./Dashboard'));

function App() {
    return (
        <Suspense fallback={<div>Loading Dashboard...</div>}>
            <Dashboard />
        </Suspense>
    );
}

export default App;
```

**Why this is awesome:**
- Dashboard only loads when the user navigates to it
- Faster initial page load
- Users on slow internet benefit the most! -->

---

## Benefits of Dynamic Imports

### 1. **Improved Performance**

```
Without Dynamic Import:
[App starts] → [Load ALL modules (10MB)] → [Ready] ❌ Slow!

With Dynamic Import:
[App starts] → [Load essential modules (2MB)] → [Ready] ✅ Fast!
            → [Load extra modules (8MB) when needed]
```

### 2. **Resource Efficiency**

Only load features that users actually use. If a user never clicks "Settings", don't load the Settings module!

### 3. **Smaller Bundle Size**

In React, this is called **code-splitting**:

- Main bundle: 200KB (loads immediately)
- Extra features: Load on demand
- Result: Faster website!

---

## Quick Comparison Table

| Feature         | CommonJS                       | ES6 Modules               |
| --------------- | ------------------------------ | ------------------------- |
| Syntax          | `require()` / `module.exports` | `import` / `export`       |
| Used In         | Node.js (older)                | Modern JS, React, Vue     |
| Dynamic Import  | Not supported                  | Supported with `import()` |
| Browser Support | No                             | Yes (modern browsers)     |
| Best For        | Backend/Node.js                | Frontend & Modern Backend |

---

## Practice Exercise for You!

### Challenge: Build a Student Management System

**File structure:**

```
student-app/
  ├── student.js       (student functions)
  ├── grade.js         (grade calculations)
  └── app.js           (main app)
```

**Step 1: Create `student.js`**

```javascript
export function createStudent(name, age) {
  return { name, age, grades: [] };
}

export function addGrade(student, grade) {
  student.grades.push(grade);
}
```

**Step 2: Create `grade.js`**

```javascript
export function calculateAverage(grades) {
  const sum = grades.reduce((acc, grade) => acc + grade, 0);
  return sum / grades.length;
}

export function getLetterGrade(average) {
  if (average >= 90) return "A";
  if (average >= 80) return "B";
  if (average >= 70) return "C";
  if (average >= 60) return "D";
  return "F";
}
```

**Step 3: Create `app.js`**

```javascript
import { createStudent, addGrade } from "./student.js";
import { calculateAverage, getLetterGrade } from "./grade.js";

const student = createStudent("Rajesh", 19);
addGrade(student, 85);
addGrade(student, 90);
addGrade(student, 78);

const avg = calculateAverage(student.grades);
console.log(`${student.name}'s Average: ${avg}`);
console.log(`Letter Grade: ${getLetterGrade(avg)}`);
```

---

## Summary: Why Modules Matter

1. **Organized Code**: Like having separate drawers for socks, shirts, and pants
2. **Team Work**: Multiple people can work on different modules
3. **Reusability**: Write once, use everywhere
4. **Debugging**: Easier to find and fix bugs
5. **Performance**: Load only what you need (dynamic imports)

**Remember:** Start with simple named exports, then move to dynamic imports as you build bigger projects!

---

## Quick Reference Cheat Sheet

```javascript
// Named Export
export const myFunction = () => {};
import { myFunction } from "./file.js";

// Default Export
export default myFunction;
import myFunction from "./file.js";

// Dynamic Import
const module = await import("./file.js");

// Export Multiple
export { func1, func2, func3 };
import { func1, func2 } from "./file.js";
```

By abhishek mehata
